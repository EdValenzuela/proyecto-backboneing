{"version":3,"sources":["Components/Navbar.jsx","Context/LoginProvider.jsx","Components/ErrorInput.jsx","Components/InputForm.jsx","App.js","index.js"],"names":["Navbar","className","href","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","LoginContext","createContext","LoginProvider","props","useState","setUsuario","username","password","inputUsuario","disponible","useEffect","a","formdata","URLSearchParams","headers","Headers","append","fetch","method","body","url","json","respData","console","log","detectarUsuario","ErrorInput","mensaje","role","Form","useContext","setInputUsuario","setDisponible","usuario","input","setInput","errorInputUser","errorInputPass","error","setError","handleInputChange","e","target","name","value","onSubmit","preventDefault","trim","errorInput","errorSelect","htmlFor","placeholder","onChange","JSON","stringify","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f7332e7d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Navbar = () => {\r\n\r\n    return (\r\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n            <a className=\"navbar-brand\" href=\"#\">BackBoneing</a>\r\n            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                <span className=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                <ul className=\"navbar-nav\">\r\n                    <li className=\"nav-item active\">\r\n                        <a className=\"nav-link\" href=\"#\">Home</a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import React, { useState, createContext, useEffect }  from 'react';\r\n\r\nexport const LoginContext = createContext();\r\n\r\nconst LoginProvider = (props) => {\r\n\r\n    const [usuario, setUsuario] = useState('')\r\n\r\n    const [inputUsuario, setInputUsuario] = useState({\r\n        username: '',\r\n        password: ''\r\n    })\r\n    const {username, password} = inputUsuario;\r\n    const [disponible, setDisponible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const detectarUsuario = async()=>{\r\n            try {\r\n                if(disponible){\r\n                    let formdata = new URLSearchParams();\r\n                    let headers = new Headers();\r\n\r\n                    formdata.append('client_id', 'apitest');\r\n                    formdata.append('client_secret','6645c999-570d-4fbe-8f31-f3112b1b5647');\r\n                    formdata.append('grant_type','password');\r\n                    formdata.append('username', `${username}`);\r\n                    formdata.append('password', `${password}`);\r\n\r\n                    //headers.append('Authorization', 'Basic ' + btoa(username + \":\" + password));\r\n                    headers.append('Content-Type', 'application/x-www-form-urlencoded');\r\n\r\n                    const url = await fetch('https://nr.yogestiono.cl/api/rc/auth',{\r\n                        method: 'POST',\r\n                        headers: headers,\r\n                        body: formdata\r\n                    })\r\n                    const respData = await url.json();\r\n                    setUsuario(respData);\r\n                    console.log(respData);\r\n                }\r\n                \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        detectarUsuario();\r\n    },[inputUsuario]) //el useEffect ejecuta la función cada vez que se cambie los datos ingresados, como dependencia llamo a inputUsuario que contiene un objeto\r\n    \r\n    return (\r\n        //Aqui en el value llamo a los datos que compartire a mis componentes hijos\r\n        <LoginContext.Provider value={{ usuario, setInputUsuario, setDisponible }}>\r\n            {props.children}\r\n        </LoginContext.Provider>\r\n    )\r\n}\r\n\r\nexport default LoginProvider\r\n","import React from 'react'\r\n\r\nconst ErrorInput = ({mensaje}) => {\r\n    return (\r\n        <div className=\"alert alert-danger text-danger\" role=\"alert\">\r\n            { mensaje }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorInput\r\n","import React, { useContext, useState } from 'react';\r\nimport { LoginContext } from '../Context/LoginProvider';\r\nimport ErrorInput from './ErrorInput';\r\n\r\nconst Form = () => {\r\n    \r\n    const { setInputUsuario, setDisponible, usuario } = useContext(LoginContext);\r\n    \r\n    const [input, setInput] = useState({\r\n        username: '',\r\n        password: ''\r\n    });\r\n\r\n    //Banderas de error de cada elemento ingresado\r\n    const [error, setError] = useState({ \r\n        errorInputUser : false,\r\n        errorInputPass : false\r\n    });\r\n\r\n    const handleInputChange = e =>{\r\n        setInput({\r\n            ...input,//Guardo el resultado anterior\r\n            [e.target.name] : e.target.value //asocio el name al value\r\n        }) \r\n    }\r\n\r\n    const handleSubmit = e =>{\r\n        e.preventDefault();\r\n\r\n        if(input.username.trim() === ''){\r\n            console.log('username vacio !');\r\n            setError({\r\n                errorInput: true\r\n            })\r\n            return;\r\n        }\r\n        if(!input.password){\r\n            console.log('password vacio !');\r\n            setError({\r\n                errorSelect: true\r\n            });\r\n            return;\r\n        }\r\n        setError({\r\n            errorInput: false,\r\n            errorSelect: false\r\n        });\r\n        \r\n        //le paso los datos y dejo disponible true para hacer la consulta\r\n        setInputUsuario(input);\r\n        setDisponible(true);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div className=\"container mt-5\">\r\n        <form onSubmit={ handleSubmit } className=\"mb-5\">\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"username\">Nombre</label>\r\n                <input \r\n                    type=\"text\" \r\n                    className=\"form-control\" \r\n                    id=\"username\" \r\n                    name=\"username\"\r\n                    placeholder=\"Tu username\"\r\n                    onChange={ handleInputChange }\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"password\">Contraseña</label>\r\n                <input \r\n                    type=\"password\" \r\n                    className=\"form-control\" \r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    placeholder=\"Tu password\"\r\n                    onChange={ handleInputChange }\r\n                />\r\n            </div>\r\n            <button type=\"submit\" className=\"btn btn-dark btn-block btn-lg\">Entrar</button>\r\n        </form>\r\n            <div className=\"alert alert-primary\" role=\"alert\">\r\n                <pre>{JSON.stringify(usuario, null, 2) }</pre>\r\n            </div>\r\n            { error.errorInput && (<ErrorInput mensaje=\"Ingrese un nombre !\"/>)}\r\n            { error.errorSelect &&  (<ErrorInput mensaje=\"Ingresa una contraseña !\"/>)}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Form\r\n","import React from 'react';\nimport Navbar from './Components/Navbar';\nimport Form from './Components/InputForm';\n\nfunction App() {\n  return (\n    <>\n      <Navbar/>\n      <Form/>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport LoginProvider from './Context/LoginProvider';\n\nReactDOM.render(\n  <React.StrictMode>\n    <LoginProvider>\n      <App />\n    </LoginProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}